<!DOCTYPE html>
<html ng-app="ng808">
  <head>
    <title><%= pkg.name %></title>

    <link rel="stylesheet" type="text/css" href="<%= css %>" media="all" />
    <script type="text/javascript" src="<%= js %>"></script>
  </head>
  <body ng-controller="MainController">
    <div class="container">
      <h1>NG-808</h1>

      <table class="table table-bordered ng-808" cellspacing="0">
        <tr>
          <th>Name</th>
          <th>*</th>
          <th ng-repeat="i in drumMachine.masterPart.sequence.stepsRange" class="{{ cellClass(drumMachine.masterPart, i) }}">{{ i + 1 }}</th>
        </tr>
        <tr ng-repeat="part in drumMachine.parts" ng-class="lastClass($last)">
          <td>{{ part.name }}</td>
          <td>{{ part.currentEvent.level }}</td>
          <td ng-repeat="event in part.sequence.events" class="event-cell {{ eventCellClass(part, event, $index) }}" ng-click="toggleLevel(event)"><span></span></td>
        </tr>
      </table>

      <form name="controls">
        <button class="btn btn-primary" ng-click="drumMachine.advanceSequence()">Next</button>
        <button class="btn" ng-click="drumMachine.reset()">Reset</button>

        <button class="btn btn-primary" ng-disabled="!drumMachine.canPlay()" ng-click="drumMachine.play()">Play</button>
        <button class="btn" ng-disabled="!drumMachine.canStop()" ng-click="drumMachine.stop()">Stop</button>

        <input name="tempoInput" type="number" min="10" max="240" ng-model="drumMachine.clock.tempo" ng-model-options="{ updateOn: 'blur' }" integer />
        <span ng-show="!drumMachine.clock.validTempo()">Please enter a tempo between 10 and 180. You can go up to 240, but please, keep it under 180.</span>
      </form>
    </div>
  </body>
</html>
